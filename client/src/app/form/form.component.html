
<mat-accordion class="example-headers-align" multi>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
       פרטים אישיים
      </mat-panel-title>
      <mat-panel-description>
       נא מלא את כל הפרטים!!
        <mat-icon>account_circle</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <form  (ngSubmit)="logIn()" #myform="ngForm" >
  
  <p>
    <mat-form-field appearance="fill">
      <mat-label>תעודת זהות</mat-label>
      <input matInput placeholder=""   [(ngModel)]="userService.personSer.Tz"
      name="tz"  #iden="ngModel" required pattern="[0-9 ]*" >
      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
      <mat-hint></mat-hint>
      <div class="error" *ngIf="iden.touched&&iden.errors&&iden.errors['required']">זהו שדה חובה</div>
      <div class="error" *ngIf="iden.invalid && (iden.dirty || iden.touched)"> ת"ז מכילה רק מספרים!!</div> 
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="fill">
      <mat-label> שם פרטי</mat-label>
      <input matInput placeholder="" 
       [(ngModel)]="userService.personSer.Fname" type="text" name="fname" #fname="ngModel"  required pattern="[a-zA-Z]*" >

      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
    
      <mat-hint></mat-hint>
      <div class="error" *ngIf="fname.touched&& fname.errors&&fname.errors['required']">זהו שדה חובה</div>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="fill">
      <mat-label> משפחה</mat-label>
      <input matInput placeholder=""  [(ngModel)]="userService.personSer.Lname" type="text" name="lname"  #lname="ngModel" required >

      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
    
      <mat-hint></mat-hint>
      <div class="error" *ngIf="lname.touched&& lname.errors&&lname.errors['required']">זהו שדה חובה</div>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="fill">
      <mat-label> תאריך לידה</mat-label>
      <input matInput placeholder=""  [(ngModel)]="userService.personSer.DateOfBirdth" type="text" name="date"  #d="ngModel" required >

      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
    
      <mat-hint></mat-hint>
      <div class="error" *ngIf="d.touched&&d.errors&&d.errors['required']">זהו שדה חובה</div>
    </mat-form-field>
  </p>
 <p>
  <mat-form-field appearance="fill">
    <mat-label      >מין</mat-label>
    <mat-select    [(ngModel)]="userService.personSer.Min" name="min" >
      <mat-option value="זכר">זכר</mat-option>
      <mat-option value="נקבה"> נקבה</mat-option>
    </mat-select>
  </mat-form-field>
</p>

<p>
  <mat-form-field appearance="fill">
    <mat-label   >קופת חולים</mat-label>
    <mat-select     [(ngModel)]="userService.personSer.Hmo" name="hmo" required>
      <mat-option value="מכבי"   >מכבי</mat-option>
      <mat-option value="כללית"> כללית</mat-option>
      <mat-option value="מאוחדת">מאוחדת</mat-option>
      <mat-option value="לאומית"> לאומית</mat-option>
    </mat-select>
  </mat-form-field>
</p>
<input type="submit" />
</form>
</mat-expansion-panel>
 
 <mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      הוספת ילדים
    </mat-panel-title>
    <mat-panel-description>
      נא למלא את פרטי הילדים!
      <mat-icon>date_range</mat-icon>
    </mat-panel-description>
  </mat-expansion-panel-header>
  <div class="row mt-1" style="height:80px;">
		<div class="col-3 d-none col-md-3 d-md-block"></div>
		<div class="col-12 col-md-6 bg-success d-flex
					justify-content-center align-items-center
					text-light h3">

			<input [(ngModel)]="child.Id" type="text" placeholder="תעודת זהות"
					value="" class="col-7 form-control"
						style="width:300px;">
                        <input [(ngModel)]="child.DateOfBirdth" type="text" placeholder="תאריך לידה"
                        value="" class="col-7 form-control"
                            style="width:300px;">
                            <input [(ngModel)]="child.Name" type="text" placeholder="שם"
					value="" class="col-7 form-control"
						style="width:300px;">
			<div class="col-1"></div>

			<button (click)="addToList()"
				class="btn btn-light text-success">
			הוסף ילד
			</button>
		</div>

		<div class="col-3 d-none col-md-3 d-md-block"></div>
	</div>

	<!--Tasks added repeated divisions-->
	<div *ngFor="let item of items; let index = index;"
			class="row mt-1" style="height:100px;">

		<div class="col-3 d-none col-md-3 d-md-block"></div>

		<div class="col-12 col-md-6 bg-success d-flex
					justify-content-center align-items-center
					text-light h3">

			<div class="col-9 text-light h3">{{item.Name}}</div>
            <div class="col-9 text-light h3">{{item.Id}}</div>
            <div class="col-9 text-light h3">{{item.DateOfBirdth}}</div>
			<input (click)="deleteTask(index)" type="button"
				value="Delete" class="col-2 btn btn-danger">
		</div>
		
		<div class="col-3 d-none col-md-3 d-md-block"></div>
	</div>
</mat-expansion-panel>

  <button class="centre btn mc" (click)="exportToCsv()">הורדה לקובץ </button>


